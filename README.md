# nmondatacollect
This repo is to automate nmon data collection periodically

The nmon datacollect needs the following setup...

1) Directory layout

<nmonbase> - where the nmon data collect script will be kept
    - <nmonbin>/<nmonchrt>/nmonchart - nmon chart binary
               /<nmonmrg>/nmonmerge - nmon merge command is kept
    - <rawdata>/<hostname or ip>/*.nmon - nmon rawdata sample files are kept, this is collected every 5 minutes as per cron
    - <daydata>/<hostname>_<day>.nmon - merged nmon files are kept, 1 file per day
    - <nmonchartop>/<hostname or ip>/<day>.html - 1 file per day generated by nmon chart are kept
    - nmondatacollect_v1.ksh - nmon script collecting the data

2) List of binaries needed:
You should have nmcli, ksh, nmon, nmonmerge, nmonchart binaries available

3) Cron entry as like below..

*/5 * * * * <nmonbase>/nmondatacollect_v1.ksh MASTER 30 9 ><nmonbase>/nmondatacollect_v1.out 2>&1

4) Remember this <nmonbase> should be a shared drive, where you will bring forward mutliple clients data in one place, which is then processed from MASTER.

5) For client, the cron will look like below..

*/5 * * * * <nmonbase>/nmondatacollect_v1.ksh CLIENT 30 ><nmonbase>/nmondatacollect_v1_<clientname>.out 2>&1
